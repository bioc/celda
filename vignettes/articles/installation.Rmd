
# Introduction

"celda" stands for "**CE**llular **L**atent **D**irichlet **A**llocation". It is a suite of Bayesian hierarchical models and supporting functions to perform gene and cell clustering for count data generated by single cell RNA-seq platforms. This algorithm is an extension of the Latent Dirichlet Allocation (LDA) topic modeling framework that has been popular in text mining applications. This package also includes a method called **decontX** which can be used to estimate and remove contamination in single cell genomic data. 

# Installation 

To install the latest stable release of **celda** from [Bioconductor](http://bioconductor.org/packages/celda/) (requires R version >= 3.6):

```{r bioc, eval = FALSE}
if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")
BiocManager::install("celda")
```

The latest stable version  of **celda** can be installed from GitHub using `devtools`:

```{r current_version, eval = FALSE}
library(devtools)
install_github("campbio/celda")
```

The development version of **celda** can also be installed from GitHub using `devtools`:
```{r devel_version, eval = FALSE}
library(devtools)
install_github("campbio/celda@devel")
```

**NOTE** For MAC OSX users, `devtools::install_github()` requires installation of **libgit2.** This can be installed via homebrew:
```
brew install libgit2
```

# Troubleshooting

* If you receive installation errors when Rcpp is being installed and compiled, try following the steps outlined [here](https://thecoatlessprofessor.com/programming/cpp/r-compiler-tools-for-rcpp-on-macos/) to solve the issue
* If you are running R 4.0.0 or later version on MacOS Catalina and you see error `'wchar.h' file not found`, you can try the method in [this](https://discourse.mc-stan.org/t/dealing-with-catalina-iii/12731/5) link:
* If you are trying to install **celda** using Rstudio and get this error: `could not find tools necessary to compile a package`, you can try typing this before running the install command:

```
options(buildtools.check = function(action) TRUE)
```

